<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script>
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");

      
      const devicePixelRatio = window.devicePixelRatio;
      
      const desiredPixelWidth = 5;
      const desiredPixelHeight = 5;

      canvas.width  = desiredPixelWidth;
      canvas.height = desiredPixelHeight;

      
      canvas.style.width  = (desiredPixelWidth / devicePixelRatio)  + "px";
      canvas.style.height = (desiredPixelHeight / devicePixelRatio) + "px";
      
      canvas.style.backgroundColor="red"; 
      
      ctx.fillStyle = "black";
      ctx.fillRect( 3, 3, 1,1 );
      
      let dp = window.devicePixelRatio || 1;
      
      log(dp);
      
      function log(...args) {
        const elem = document.createElement("pre");
        elem.textContent = [...args].join(' ');
        document.body.appendChild(elem);
      }
      
    </script>
  </body>
</html>
