<!doctype html>
<html>
	<style>

		img {
			image-rendering: pixelated;
		}

		#a  {
			width: 150px;
			height: 150px;

		}
		#b {
			width: 100px;
			height: 100px;
		}
		#a {
			background-color: rgb(255, 50, 0);
		}
		#b {
			background-color: rgb(0,255,0);
			_background-image: url("fefe.png");
			mix-blend-mode: normal;
		}

		canvas {
			image-rendering: pixelated;
			mix-blend-mode: screen;
			width: 200px;
			height: 100px;
		}
	</style>


	<body>

		<div id="a"><div id="b"></div></div>


					  <canvas id="canvas"></canvas>


<a id="link"></a>


		<script type="text/javascript">



			let canvas = document.getElementById("canvas");

canvas.width = 20;
canvas.height = 10;

const ctx = canvas.getContext("2d");
//_canvas.width = window.innerWidth;
//_canvas.height = window.innerHeight;


let r_a = 0.0; 
ctx.fillStyle = "rgba(0, 0, 0, " + r_a + ")"; 
ctx.fillRect(0, 0, 10, 10);

r_a=1.0;
ctx.fillStyle = "rgba(0, 255, 0, " + r_a + ")"; 
ctx.fillRect(10, 0, 10, 10);
// extract as new image (data-uri)
let url = canvas.toDataURL();

   let imageObject = new Image();
   imageObject.src = canvas.toDataURL("image/png"); 



     var link = document.getElementById('link');
  link.setAttribute('download', 'monimage.png');
  link.setAttribute('href', canvas.toDataURL("image/png"));   //.replace("image/png", "image/octet-stream"));
  link.click();

		</script>

	</body>





</html>
